
cd /tmp/

mkdir -p sample_package2

echo '

' >  sample_package2/__init__.py

echo "

from sample_package2.mod2 import *
from sample_package2.mod3 import *
from sample_package2.mod4 import *


class Class1:
  def __init__(self):
  self.obj2 = Class2(self)
  self.obj3 = Class3(self)
  self.obj4 = Class4(self)

" > sample_package2/mod1.py

echo "

class Class2:
  def __init__(self, parent):
    self.parent = parent

  def test2(self):
    print ('executing test2 of object from Class2 class.')

" > sample_package2/mod2.py

echo "

class Class3:
  def __init__(self, parent):
    self.parent = parent
    self.obj2 = self.parent.obj2

  def test3(self):
    print ('executing test3 of object from Class3 class.')
    print ('executing test2 of object from Class3 class.')
    self.obj2.test2()


" > sample_package2/mod3.py

echo "

class Class4:
  def __init__(self, parent):
    self.parent = parent

  def test4(self):
    print ('executing test4 of object from Class3 class.')
    print ('executing test3 of object from Class4 class.')
    self.parent.obj3.test3()

" > sample_package2/mod4.py


echo "

import sample_package2
  # create objects
a = sample_package2.Class1()
a.test1()
a.obj2.test2()
a.obj3.test3()
a.obj4.test4()

" > sample2.py

python3 sample2.py
